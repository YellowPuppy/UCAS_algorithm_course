\documentclass[UTF8,nofonts,mathserif]{beamer}
\usepackage{beamerthemeshadow}
\usepackage{beamerthemesplit}
\usepackage[noindent,nofonts]{ctexcap} 
\setCJKmainfont[BoldFont=STHeiti]{STXihei} 
%\setromanfont{SimSun} 

\usepackage{xcolor}

%\usetheme{shadow}
\usecolortheme{default}
\setbeamertemplate{footline}[frame number]
\useinnertheme[shadow=true]{rounded}
%\setbeamertemplate{footline}{\insertframenumber/\inserttotalframenumber}
%\useoutertheme{infolines}
%\setbeamertemplate{headline}{} % removes the headline that infolines inserts

%\usetheme{boxes}
%\usepackage{amsmass}
%\usepackage{amssymb,amsfonts,url}

\usepackage{algorithm}
\usepackage{algorithmic}

\usepackage{graphicx}
\graphicspath{{Problems/}}

\usepackage{tikz}
\usetikzlibrary{shadows}
\usetikzlibrary{positioning}
\usepackage{verbatim}
\usepackage{pgfplots}
\usepackage{verbatim}
\usetikzlibrary{arrows,shapes}

\definecolor{darkblue}{rgb}{0.2,0.2,0.6}
\definecolor{darkred}{rgb}{0.6,0.1,0.1}
\definecolor{darkgreen}{rgb}{0.2,0.6,0.2}

\usetikzlibrary{shadings,shadows,shapes.arrows}

\usetikzlibrary{calc} 
\makeatletter 
\@namedef{color@3}{blue!20}
\@namedef{color@1}{green!70}   
%\@namedef{color@3}{yellow!50} 
\@namedef{color@2}{orange!90}  
%\@namedef{color@5}{magenta!70} 
%\@namedef{color@6}{yellow!70}    

\newcommand{\graphitemize}[2]{%
\begin{tikzpicture}[every node/.style={align=center}, scale=0.78]  
 \draw[fill=green!5, fill opacity=0.1, green, inner sep=0.05cm, outer sep=0.05cm] (5,0) arc(0:360:5);
 % \draw[fill=white, fill opacity=0.1, white, inner sep=0.05cm, outer sep=0.05cm] (4,0) arc(0:360:4);
%  \shade[ball color=gray!10!] (0,0) coordinate(Hp) circle (.9);
  \node[shape=circle,  minimum size=1.1cm,fill=red!60,font=\Large,outer sep =.15cm,inner sep=.2cm,drop  shadow={ashadow, color=yellow}](ce){#1};  
   % \shade[ball color=blue!20!] (0,0) coordinate($Algorithm$) circle (1.5cm);

\foreach \gritem [count=\xi] in {#2}  {\global\let\maxgritem\xi}  
\foreach \gritem [count=\xi] in {#2}
{% 
\pgfmathtruncatemacro{\angle}{90+360/\maxgritem*\xi}
\edef\col{\@nameuse{color@\xi}}
\node[shape=circle,
     ultra thick,
     draw=white,
     fill opacity=1,
     drop  shadow={ashadow, color=blue!60},
     fill=\col,outer sep=0.25cm,        
     minimum size=2cm] (satellite-\xi) at (\angle:5cm) {\gritem };
     \draw[line width=0.25cm,-latex, \col] (ce) -- (satellite-\xi);
     }%
% \draw[violet, fill=violet!10] (4,0) arc(0:360:4);
\end{tikzpicture}  
}%



\newcommand*{\tikzarrow}[2]{%
  \tikz[
    baseline=(A.base),             % Set baseline to the baseline of node content
    font=\footnotesize\sffamily    % Set fontsize of the node content
  ]
  \node[
    single arrow,                  % Shape of the node
    single arrow head extend=2pt,  % Actual width of arrow head
    draw,                          % Draw the node shape
    inner sep=2pt,                 % Separation between node content and node shape
    top color=white,               % Shading color on top of node
    bottom color=#1,               % Shading color on bottom of node
    drop shadow                    % Draw a shadow
  ] (A) {#2};%
}


\def\arrow{
  (10.05:1.1) -- (6.05:1) arc (6.05:120:1) [rounded corners=0.5] --
  (120:0.9) [rounded corners=1] -- (130:1.1) [rounded corners=0.5] --
  (120:1.3) [sharp corners] -- (120:1.2) arc (120:5.25:1.2)
  [rounded corners=1] -- (10.05:1.1) -- (6.05:1) -- cycle
}

\tikzset{
  ashadow/.style={opacity=.25, shadow xshift=0.07, shadow yshift=-0.07},
}

\def\arrows[#1]{         
  \begin{scope}[scale=#1]
    \draw[color=darkred, drop  shadow={ashadow, color=red!60!black}] \arrow;

    \draw[color=darkgreen, bottom color=green!90!black, top color=green!60,   drop shadow={ashadow, color=green!60!black}] [rotate=120] \arrow;

    \draw[color=darkblue, right color=blue, left color=blue!60,   drop shadow={ashadow, color=blue!60!black}] [rotate=240] \arrow;

    % to hide the green shadow
    \draw[color=darkred, left color=red, right color=red!60] \arrow;
  \end{scope}
}

\tikzstyle{vertex}=[circle,fill=black!25,draw,minimum size=20pt,inner sep=0pt]
\tikzstyle{middlevertex}=[circle,fill=black!25,draw,minimum size=15pt,inner sep=0pt]
\tikzstyle{smallvertex}=[circle,fill=black!25,draw,minimum size=10pt,inner sep=0pt]
\tikzstyle{tinyvertex}=[circle,fill=black!25,draw,minimum size=5pt,inner sep=0pt]
\tikzstyle{selected vertex} = [vertex, draw,fill=yellow!24]
\tikzstyle{blue smallvertex} = [smallvertex, draw,fill=blue]
\tikzstyle{red smallvertex} = [smallvertex, draw,fill=yellow]
\tikzstyle{edge} = [draw,thick,->]
\tikzstyle{undirectededge} = [draw,thick]
\tikzstyle{weight} = [font=\small]
\tikzstyle{selected edge} = [draw,line width=3pt,-,red!50]
\tikzstyle{ignored edge} = [draw,line width=3pt,-,black!20]
\tikzstyle{squarednode}=[draw, fill=blue!20, thick, minimum size=5mm]
\tikzstyle{roundnode}=[circle, draw, fill=blue!20, thick, minimum size=5mm]



\title{CS711008Z  Algorithm Design and Analysis }
\author{Dongbo Bu }
\institute{ {\small Institute of Computing Technology \\
Chinese Academy of Sciences, Beijing, China}}






\date{}

\begin{document}


\frame{
\frametitle{push-relabel Demo Step 1}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
   	\foreach \y/\x/\name in { 0/0/s, 0/1/u, 0/2/v, 0/3/t} 
		\node[smallvertex,draw=black, fill=white!300] (\name) at (1.5*\x*\u+\dx, \y + \dy) {\tiny $\name$};
  
  	\foreach \source/\dest/\weight in {s/u/{3}, u/v/{1}, v/t/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $\weight$} (\dest);
	\draw (t) node[right=10pt] {\tiny $A~maximum-flow~instance$};

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 0/1/uu/u, 0/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {uu/vv/{1}, vv/tt/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
     \draw[->, thick,green] (uu) -- node[weight,below,green] {\tiny $3$} (ss);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=3};
	
 	%\draw (4.5+\dx, 0.6 + \dy + \ly) node[right=10pt,align=left] { \tiny $initial~pre-flow~f$ \\ \tiny $and~residual~graph~G\_f$} ;
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $initial~pre-flow~f$ \\ \tiny $and~residual~graph~G\_f$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo Step 2}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
	\draw[->,thick,blue] (\llx,\dy) -- (\llx,\dy + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/s/s, 0/1/u/u, 0/2/v/v, 0/3/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy ) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {u/v/{1}, v/t/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
     \draw[->, thick,green] (u) -- node[weight,below,green] {\tiny $3$} (s);
	\draw (u) node[below=5pt,red] {\tiny e(u)=3};

	\draw node[right=35pt,align=left,above right of=t] { \tiny $initial~pre-flow~f$ \\ \tiny $and~residual~graph~G\_f$} ;

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 0.4/1/uu/u, 0/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {uu/vv/{1}, vv/tt/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
     \draw[->, thick,green] (uu) -- node[weight,below,green] {\tiny $3$} (ss);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=3};
	
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $relabel(u)$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo Step 3}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
	\draw[->,thick,blue] (\llx,\dy) -- (\llx,\dy + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/s/s, 0.4/1/u/u, 0/2/v/v, 0/3/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy ) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {u/v/{1}, v/t/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
     \draw[->, thick,green] (u) -- node[weight,below,green] {\tiny $3$} (s);
	\draw (u) node[below=5pt,red] {\tiny e(u)=3};

	\draw node[right=35pt,align=left,above right of=t] { \tiny $relabel(u)$} ;

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 0.4/1/uu/u, 0/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {vv/tt/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
	\draw[->, thick,green] (vv) -- node[weight,below,green] {\tiny $1$} (uu);
     	\draw[->, thick,green] (uu) -- node[weight,below,green] {\tiny $3$} (ss);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=2};
	\draw (vv) node[below=5pt,red] {\tiny e(v)=1};
	
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $push(u,v)$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo Step 4}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
	\draw[->,thick,blue] (\llx,\dy) -- (\llx,\dy + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/s/s, 0.4/1/u/u, 0/2/v/v, 0/3/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy ) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {v/t/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
     \draw[->, thick,green] (u) -- node[weight,below,green] {\tiny $3$} (s);
	\draw[->, thick,green] (v) -- node[weight,below,green] {\tiny $1$} (u);
	\draw (u) node[below=5pt,red] {\tiny e(u)=2};
	\draw (v) node[below=5pt,red] {\tiny e(v)=1};

	\draw node[right=35pt,align=left,above right of=t] { \tiny $push(u,v)$} ;

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 0.4/1/uu/u, 0.4/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {vv/tt/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
	\draw[->, thick,green] (vv) -- node[weight,below,green] {\tiny $1$} (uu);
     	\draw[->, thick,green] (uu) -- node[weight,below,green] {\tiny $3$} (ss);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=2};
	\draw (vv) node[below=5pt,red] {\tiny e(v)=1};
	
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $relabel(v)$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo Step 5}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
	\draw[->,thick,blue] (\llx,\dy) -- (\llx,\dy + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/s/s, 0.4/1/u/u, 0.4/2/v/v, 0/3/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy ) {\tiny $\label$};
  
 	\foreach \source/\dest/\weight in {v/t/{2}}
         	\draw[->, thick] (\source) -- node[weight,above] {\tiny $0/\weight$} (\dest);
     \draw[->, thick,green] (u) -- node[weight,below,green] {\tiny $3$} (s);
	\draw[->, thick,green] (v) -- node[weight,below,green] {\tiny $1$} (u);
	\draw (u) node[below=5pt,red] {\tiny e(u)=2};
	\draw (v) node[below=5pt,red] {\tiny e(v)=1};

	\draw node[right=35pt,align=left,above right of=t] { \tiny $relabel(v)$} ;

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 0.4/1/uu/u, 0.4/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
	\draw[->, thick] (vv.20) -- node[weight,above] {\tiny $1/2$} (tt.160);
	\draw[->, thick,green] (tt.200) -- node[weight,below,green] {\tiny $1$} (vv.-20);
	\draw[->, thick,green] (vv) -- node[weight,below,green] {\tiny $1$} (uu);
     	\draw[->, thick,green] (uu) -- node[weight,below,green] {\tiny $3$} (ss);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=2};
	\draw (vv) node[below=5pt,red] {\tiny e(v)=0};
	
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $push(v,t)$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo Step 6}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
	\draw[->,thick,blue] (\llx,\dy) -- (\llx,\dy + 1.8) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,4}
		\draw[blue] (\llx,0.4 * \y ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/s/s, 0.4/1/u/u, 0.4/2/v/v, 0/3/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy ) {\tiny $\label$};
  
	\draw[->, thick] (v.20) -- node[weight,above] {\tiny $1/2$} (t.160);
	\draw[->, thick,green] (t.200) -- node[weight,below,green] {\tiny $1$} (v.-20);
     \draw[->, thick,green] (u) -- node[weight,below,green] {\tiny $3$} (s);
	\draw[->, thick,green] (v) -- node[weight,below,green] {\tiny $1$} (u);
	\draw (u) node[below=5pt,red] {\tiny e(u)=2};
	\draw (v) node[below=5pt,red] {\tiny e(v)=0};

	\draw node[right=35pt,align=left,above right of=t] { \tiny $push(v,t)$} ;

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 2.2) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,5}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 2/1/uu/u, 0.4/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
	\draw[->, thick] (vv.20) -- node[weight,above] {\tiny $1/2$} (tt.160);
	\draw[->, thick,green] (tt.200) -- node[weight,below,green] {\tiny $1$} (vv.-20);
	\draw[->, thick,green] (vv) -- node[weight,below,green] {\tiny $1$} (uu.-20);
     	\draw[->, thick,green] (uu) -- node[weight,below,green] {\tiny $3$} (ss);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=2};
	\draw (vv) node[below=5pt,red] {\tiny e(v)=0};
	
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $relabel(u)$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo Step 7}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
	\draw[->,thick,blue] (\llx,\dy) -- (\llx,\dy + 2.2) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,5}
		\draw[blue] (\llx,0.4 * \y ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/s/s, 2/1/u/u, 0.4/2/v/v, 0/3/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy ) {\tiny $\label$};
  
	\draw[->, thick] (v.20) -- node[weight,above] {\tiny $1/2$} (t.160);
	\draw[->, thick,green] (t.200) -- node[weight,below,green] {\tiny $1$} (v.-20);
     \draw[->, thick,green] (u) -- node[weight,below,green] {\tiny $3$} (s);
	\draw[->, thick,green] (v) -- node[weight,below,green] {\tiny $1$} (u.-20);
	\draw (u) node[below=5pt,red] {\tiny e(u)=2};
	\draw (v) node[below=5pt,red] {\tiny e(v)=0};

	\draw node[right=35pt,align=left,above right of=t] { \tiny $relabel(u)$} ;

	%arraw
	
	\draw[->,very thick,purple] (2.25,-0.8) -- (2.25,-1.2);

	% unit = 0.4
	\draw[->,thick,blue] (\llx,\ly) -- (\llx,\dy + \ly + 2.2) node[above,blue]{\tiny $h(v)$};
	\foreach \y in {0,...,5}
		\draw[blue] (\llx,0.4 * \y + \dy + \ly ) node[left,blue] {\tiny $\y$} -- ++(3pt,0);

   	\foreach \y/\x/\name/\label in { 1.6/0/ss/s, 2/1/uu/u, 0.4/2/vv/v, 0/3/tt/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x*\u+\dx, \y + \dy + \ly) {\tiny $\label$};
  
	\draw[->, thick] (vv.20) -- node[weight,above] {\tiny $1/2$} (tt.160);
	\draw[->, thick,green] (tt.200) -- node[weight,below,green] {\tiny $1$} (vv.-20);
	\draw[->, thick,green] (vv) -- node[weight,below,green] {\tiny $1$} (uu.-20);
	\draw[->, thick] (ss.20) -- node[weight,above] {\tiny $1/3$} (uu.160);
     	\draw[->, thick,green] (uu.200) -- node[weight,below,green] {\tiny $1$} (ss.-20);
	\draw (uu) node[below=5pt,red] {\tiny e(u)=0};
	\draw (vv) node[below=5pt,red] {\tiny e(v)=0};
	
	\draw node[right=35pt,align=left,above right of=tt] { \tiny $push(u,s)$} ;
   
   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 1}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};
  
   	\foreach \y/\x/\name/\label in { 1.5/0/s/s, 3/2/u/u, 0/2/v/v, 1.5/4/t/t} 
          	\node[smallvertex,draw=black, fill=white!20] (\name) at (1.5*\x+\dx, 0.9*\y + \dy ) {\tiny $\label$};
  
	\draw[->, thick] (s) -- node[weight,above] {\tiny $0/64$} (u);
	\draw[->, thick] (s) -- node[weight,above] {\tiny $0/32$} (v);
	\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick] (u) -- node[weight,above] {\tiny $0/64$} (t);
	\draw[->, thick] (v) -- node[weight,above] {\tiny $0/32$} (t);

	\draw node[right=35pt,align=left,right of=t] { \tiny $a~maximum-flow~instance$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/0, 0/2/vv/v/0, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick] (uu) -- node[weight,above] {\tiny $0/64$} (tt);
	\draw[->, thick] (vv) -- node[weight,above] {\tiny $0/32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=64}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=32}; 	

	\draw node[right=50pt,align=left,right of=tt] { \tiny $initial$ \\ \tiny $S:4~indicates~that~the~height~of~S~is~4 $} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 2}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/0, 0/2/v/v/0, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick] (u) -- node[weight,above] {\tiny $0/64$} (t);
	\draw[->, thick] (v) -- node[weight,above] {\tiny $0/32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=64}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=32}; 	

	\draw node[right=50pt,align=left,right of=t] { \tiny $initial$ \\ \tiny $S:4~indicates~that~the~height~of~S~is~4 $} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/0, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick] (uu) -- node[weight,above] {\tiny $0/64$} (tt);
	\draw[->, thick] (vv) -- node[weight,above] {\tiny $0/32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=64}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=32}; 	

	\draw node[right=35pt,align=left,right of=tt] { \tiny $if~relabel(u)~first$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 3}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/0, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick] (u) -- node[weight,above] {\tiny $0/64$} (t);
	\draw[->, thick] (v) -- node[weight,above] {\tiny $0/32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=64}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=32}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $if~relabel(u)~first$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/0, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	%\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	\draw[->, thick] (uu) -- node[weight,above] {\tiny $0/64$} (tt);
	\draw[->, thick] (vv) -- node[weight,above] {\tiny $0/32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=63}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=33}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $then~if~we~chose~to~push(u,v)$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 4}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/0, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	%\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick,green] (v) -- node[weight,right] {\tiny $1$} (u);
	\draw[->, thick] (u) -- node[weight,above] {\tiny $0/64$} (t);
	\draw[->, thick] (v) -- node[weight,above] {\tiny $0/32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=63}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=33}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $then~if~we~chose~to~push(u,v)$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/0, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	%\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	\draw[->, thick] (uu.20) -- node[weight,above] {\tiny $63/64$} (tt.140);
	\draw[<-, thick,green] (uu.-20) -- node[weight,below] {\tiny $63$} (tt.180);
	\draw[->, thick] (vv) -- node[weight,above] {\tiny $0/32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=33}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $push(u,t)$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 5}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/0, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	%\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick,green] (v) -- node[weight,right] {\tiny $1$} (u);
	\draw[->, thick] (u.20) -- node[weight,above] {\tiny $63/64$} (t.140);
	\draw[<-, thick,green] (u.-20) -- node[weight,below] {\tiny $63$} (t.180);
	\draw[->, thick] (v) -- node[weight,above] {\tiny $0/32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=63}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=33}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $push(u,t)$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/1, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	%\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	\draw[->, thick] (uu.20) -- node[weight,above] {\tiny $63/64$} (tt.140);
	\draw[<-, thick,green] (uu.-20) -- node[weight,below] {\tiny $63$} (tt.180);
	\draw[->, thick] (vv) -- node[weight,above] {\tiny $0/32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=33}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $relabel(v)$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 6}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/1, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	%\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick,green] (v) -- node[weight,right] {\tiny $1$} (u);
	\draw[->, thick] (u.20) -- node[weight,above] {\tiny $63/64$} (t.140);
	\draw[<-, thick,green] (u.-20) -- node[weight,below] {\tiny $63$} (t.180);
	\draw[->, thick] (v) -- node[weight,above] {\tiny $0/32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=33}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $relabel(v)$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/1, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	%\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	\draw[->, thick] (uu.20) -- node[weight,above] {\tiny $63/64$} (tt.140);
	\draw[<-, thick,green] (uu.-20) -- node[weight,below] {\tiny $63$} (tt.180);
	\draw[<-, thick,green] (vv) -- node[weight,below] {\tiny $32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=1}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $push(v,t)$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 7}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/1, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	%\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick,green] (v) -- node[weight,right] {\tiny $1$} (u);
	\draw[->, thick] (u.20) -- node[weight,above] {\tiny $63/64$} (t.140);
	\draw[<-, thick,green] (u.-20) -- node[weight,below] {\tiny $63$} (t.180);
	\draw[<-, thick,green] (v) -- node[weight,below] {\tiny $32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=1}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $push(v,t)$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/2, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	%\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	\draw[->, thick] (uu.20) -- node[weight,above] {\tiny $63/64$} (tt.140);
	\draw[<-, thick,green] (uu.-20) -- node[weight,below] {\tiny $63$} (tt.180);
	\draw[<-, thick,green] (vv) -- node[weight,below] {\tiny $32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=1}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $relabe(v)$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 8}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/2, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	%\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick,green] (v) -- node[weight,right] {\tiny $1$} (u);
	\draw[->, thick] (u.20) -- node[weight,above] {\tiny $63/64$} (t.140);
	\draw[<-, thick,green] (u.-20) -- node[weight,below] {\tiny $63$} (t.180);
	\draw[<-, thick,green] (v) -- node[weight,below] {\tiny $32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=1}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $relabe(v)$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/2, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	%\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	\draw[->, thick] (uu.20) -- node[weight,above] {\tiny $63/64$} (tt.140);
	\draw[<-, thick,green] (uu.-20) -- node[weight,below] {\tiny $63$} (tt.180);
	\draw[<-, thick,green] (vv) -- node[weight,below] {\tiny $32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=1}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=0}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $push(v,u)$} ;

   \end{tikzpicture}
\end{figure}

}

\frame{
\frametitle{push-relabel Demo2 Step 9}

\begin{figure}
\begin{tikzpicture}[scale=1., auto,swap]

  \def\dx{0};
  \def\dy{0}; 
  \def\u{1};
  \def\ly{-4};
  \def\llx{-0.6};

     	\foreach \y/\x/\name/\label/\height in { 1.5/0/s/s/4, 3/2/u/u/1, 0/2/v/v/2, 1.5/4/t/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy  ) {\small $\label:\height$};
  
	\draw[->, thick,green] (u) -- node[weight,below] {\tiny $64$} (s);
	\draw[->, thick,green] (v) -- node[weight,below] {\tiny $32$} (s);
	%\draw[->, thick] (u) -- node[weight,left] {\tiny $0/1$} (v);
	\draw[->, thick,green] (v) -- node[weight,right] {\tiny $1$} (u);
	\draw[->, thick] (u.20) -- node[weight,above] {\tiny $63/64$} (t.140);
	\draw[<-, thick,green] (u.-20) -- node[weight,below] {\tiny $63$} (t.180);
	\draw[<-, thick,green] (v) -- node[weight,below] {\tiny $32$} (t);
	\draw (u) node[above right=2pt,red] {\tiny e(u)=1}; 
	\draw (v) node[below right=2pt,red] {\tiny e(v)=0}; 	

	\draw node[right=35pt,align=left,right of=t] { \tiny $push(v,u)$} ;

	%arraw
	
	\draw[->,very thick,purple] (3,-0.4) -- (3,-0.9);

	% unit = 0.4
   	\foreach \y/\x/\name/\label/\height in { 1.5/0/ss/s/4, 3/2/uu/u/1, 0/2/vv/v/2, 1.5/4/tt/t/0} 
          	\node[smallvertex,draw=black,blue, fill=white!20,] (\name) at (1.5*\x+\dx, 0.9*\y + \dy + \ly ) {\small $\label:\height$};
  
	\draw[->, thick,green] (uu) -- node[weight,below] {\tiny $64$} (ss);
	\draw[->, thick,green] (vv) -- node[weight,below] {\tiny $32$} (ss);
	\draw[->, thick] (uu) -- node[weight,left] {\tiny $0/1$} (vv);
	%\draw[->, thick,green] (vv) -- node[weight,right] {\tiny $1$} (uu);
	%\draw[->, thick] (uu.20) -- node[weight,above] {\tiny $63/64$} (tt.140);
	\draw[<-, thick,green] (uu) -- node[weight,below] {\tiny $64$} (tt);
	\draw[<-, thick,green] (vv) -- node[weight,below] {\tiny $32$} (tt);

	\draw (uu) node[above right=2pt,red] {\tiny e(u)=0}; 
	\draw (vv) node[below right=2pt,red] {\tiny e(v)=0}; 	

	\draw node[right=45pt,align=left,right of=tt] { \tiny $push(u,t)$} ;

   \end{tikzpicture}
\end{figure}

}

\end{document} 
